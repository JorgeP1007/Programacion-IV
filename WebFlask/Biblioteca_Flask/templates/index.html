<!DOCTYPE html>
<html>
<head>
    <title>Biblioteca</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body class="container mt-5">
    <h1>Biblioteca Personal</h1>
    <a href="{{ url_for('agregar') }}" class="btn btn-primary my-3">Agregar nuevo libro</a>
    <form class="mb-4" action="{{ url_for('buscar') }}" method="get">
        <div class="row">
            <div class="col-md-2">
                <select name="criterio" class="form-control">
                    <option value="titulo">Título</option>
                    <option value="autor">Autor</option>
                    <option value="genero">Género</option>
                </select>
            </div>
            <div class="col-md-6">
                <input type="text" name="valor" class="form-control" placeholder="Buscar...">
            </div>
            <div class="col-md-2">
                <button type="submit" class="btn btn-success">Buscar</button>
            </div>
        </div>
    </form>
    <table class="table table-striped">
        <thead>
            <tr><th>Título</th><th>Autor</th><th>Género</th><th>Estado</th><th>Acciones</th></tr>
        </thead>
        <tbody>
        {% for libro in libros %}
            <tr>
                <td>{{ libro.titulo }}</td>
                <td>{{ libro.autor }}</td>
                <td>{{ libro.genero }}</td>
                <td>{{ libro.estado }}</td>
                <td>
                    <a href="{{ url_for('editar', libro_id=libro.id) }}" class="btn btn-sm btn-warning">Editar</a>
                    <a href="{{ url_for('eliminar', libro_id=libro.id) }}" class="btn btn-sm btn-danger">Eliminar</a>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</body>
</html>
